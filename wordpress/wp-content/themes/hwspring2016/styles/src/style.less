/*
	Theme Name: Heartwood
	Theme URI: http://heartwoodmontessori.com
	Description: Heartwood Montessori WordPress Theme originally derived from html5blank by Todd Motto (@toddmotto) - http://toddmotto.com
	Version: 1
	Author: Cory Chase
	Author URI: corychase.com
	Tags: Heartwood Montessori Blank, HTML5, CSS3

	License: MIT
	License URI: http://opensource.org/licenses/mit-license.php
*/

@import 'imports/index.less';

/*------------------------------------*\
    Mixins
\*------------------------------------*/

.make-default-column(@cols) {
	.make-xs-column(@cols);
}
.media-xxs(@rules) {
  @media screen and (max-width: @screen-xs-min) { @rules(); }
}
.media-xs(@rules) {
  @media screen and (min-width: @screen-xs-min) and (max-width: @screen-xs-max) { @rules(); }
}
.media-sm(@rules) {
  @media screen and (min-width: @screen-sm-min) and (max-width: @screen-sm-max) { @rules(); }
}
.media-md(@rules) {
  @media screen and (min-width: @screen-md-min) and (max-width: @screen-md-max) { @rules(); }
}
.media-lg(@rules) {
  @media screen and (min-width: @screen-lg-min) { @rules(); }
  html.lt-ie9 & { @rules(); }
}
.padded-col() {
	margin-bottom: 20px;
	margin-top: 20px;
}
.img-wrapper(@color-bg) {
	img {
		.img-responsive();
	}
	.caption {
		background-color: @color-bg;
		display: block;
		color: #fff;
		padding: 4px 10px 6px;
		.text-shadow(darken(@color-bg, 10%));
	}
}

.activity-date(@color, @size) {
	.activity-date{
		background-color: @color;
		border-radius: 50%;
		color: #fff;
		display: inline-block;
		left: 0;
		height: @size;
		position: absolute;
		text-align: center;
		.text-shadow(darken(@color, 20%));
		top: 0;
		width: @size;
		.day{
			font-size: @size * .25;
			left: 0; 
			line-height: 1em;
			position: absolute;
			position: absolute;
			right: 0;
			top: 2px;
		}
		.month{
			font-size: @size * .35; //16px;
			left: 0; 
			line-height: 1em;
			position: absolute;
			position: absolute;
			right: 0;
			top: @size * .275;
		}
		.date{
			bottom: 1px; 
			font-size: @size * .4;
			line-height: 1em;
			left: 0; 
			position: absolute;
			right: 0;
		}
	}
}

.activity-list(@color) {
	@size: 50px;
	.activity-list{
		list-style: none;
		margin: 0;
		padding: 0;
	}
	.activity-item {
		.clearfix();
		display: block;
		float: left;
		min-height: @size;
		margin-bottom: 20px;
		padding-left: 10px;
		width: 100%;
		position: relative;
	}
	.activity-link,
	.activity-wrapper {
		.clearfix();
		color: @color-gray;
		display: block;
		min-height: @size;
		position: relative;
		text-decoration: none;			
	}
	.activity-link {
		&:hover {
			background-color: lighten(@color, 50%);
			.activity-date {
				background-color: darken(@color, 20%);
			}
		}
	}
	.activity-date(@color, @size);
	.activity-title{
		display: block;
		font-weight: 700;
		margin-left: @size + 10px;
		line-height: 1.1em;
	}
	.activity-time{
		bottom: 0;
		color: @color-gray;
		position: absolute;
		right: 0;
	}
	.activity-more {
		color: @color;
		float: right;
		padding-left: 20px;
		position: relative;
		.icon {
			.glyphicon();
			left: -5px;
			position: absolute;
			top: 1px;
		}
	}
}

.text-shadow(@color) {
	text-shadow: 1px 1px 0 @color;
}


// Set link colors for a block to an arbitrary value
// or reset it to the defaults as defined in variables.less
.link-colors(@color: @link-color) {
	a {
		color: @color;
		&:hover {
			color: darken(@color, 15%);
		}
	}
};

/*------------------------------------*\
    Utilities
\*------------------------------------*/



/*------------------------------------*\
    Debug -- DELETE THIS
\*------------------------------------*/
// body {
// 	&::after {
// 		content: "";
// 		color: white;
// 		left: 0;
// 		top: 0;
// 		position: fixed;
// 		text-align: center;
// 		width: 50px;
// 		z-index: 9000;
// 		.media-xxs ({
// 			content: "xxs";
// 			background-color: red;
// 		});
// 		.media-xs({
// 			content: "xs";
// 			background-color: orange;
// 		});
// 		.media-sm({
// 			content: "sm";
// 			background-color: yellow;
// 			color: black;
// 		});
// 		.media-md({
// 			content: "md";
// 			background-color: green;
// 		});
// 		.media-lg({
// 			content: "default";
// 			background-color: blue;
// 		});
// 	}
// }





html, body {
	background-color: @color-gray-light;
	font-family: @font-family-sans-serif;
	font-size: @font-size-base;
	margin: 0;
	padding: 0;
}

h1, h2, h3, h4, a{
	.text-shadow(rgba(255,255,255,.5));
}

a {
	text-decoration: underline;
	&:hover {
		text-decoration: none;
	}
}

strong {
	font-weight: 700;
}

article{
	h1:first-of-type {
		margin-top: 0;
	}
}

button {
	.btn();
	.btn-primary();
}

.media-lg({
	// Minor text formatting that doesn't 
	// affect all screens.
	.soft-break {
		display: block;
	}
});

/*------------------------------------*\
    Site-wide
\*------------------------------------*/

.main-container {
	.container-fluid();
	background-color: @color-gray-lightest;
	border: 1px solid @color-gray-light;
	border-top: none;
	display: block;
	margin: 0 auto;
	max-width: @container-large-desktop;
	padding: 0;
}
.main-header {
	.make-row(0);
	background-color: @color-blue-base;
	border-bottom: 1px solid @color-blue-dark;
	box-shadow: inset 0 -1px 0 @color-blue-light;
	height: @header-height;
	z-index: 100;
	.logo {
		display: inline-block;
		overflow: hidden;
		width: 0;
	}
	.nav {
		.make-default-column(12);
		padding: 0;
		text-align: center;
		ul {
			display: block;
			list-style: none;
			margin: 0 auto;
			padding: 0;
			text-align: center;
			li {
				display: inline-block;
				font-weight: 600;
				margin: 0;
				padding: 0;
				position: relative;
				a {
					color: #fff;
					display: block;
					font-size: 1.2em;
					line-height: @header-height;
					text-align: center;
					text-decoration: none;
					.text-shadow(darken(@color-blue-dark, 15%));
					.media-xxs ({
						padding: 0 1px;
						font-size: .5em;
					});
					.media-xs ({
						padding: 0 5px;
						font-size: .7em;
					});
					.media-sm ({
						padding: 0 12px;
						font-size: 1em;
					});
					.media-md({
						padding: 0 22px;
						font-size: 1.2em;
					});
					.media-lg({
						padding: 0 2em;
					});
				}
				&.hover {
					a {
						background-color: @color-blue-dark;
					}
					ul.sub-menu {
						display: block;
						height: auto;
						opacity: 1;
						top: @header-height;
						a {
							&:hover {
								background-color: darken(@color-blue-dark, 10%);
								box-shadow: inset 0 0 2px @color-blue-light;
							}
						}
					}
				}
				ul.sub-menu {
					left: 0;
					height: 0;
					position: absolute;
					overflow-y: hidden;
					opacity: 0;
					top: @header-height - 2px;
					transition: all .15s linear;
					min-width: 100%;
					z-index: 100;
					li {
						display: block;
						font-weight: 400;
						width: 100%;
						a {
							line-height: 1.2em;
							text-align: left;
							padding: 10px 20px;
						}
					}
				}
			}
			:last-child {
				ul.sub-menu {
					right: 0;
					left: auto;
				}
			}
		}
	}
}
.sticky-header {
	@sticky-header-offset: @header-height + 1px;
	padding-top: @sticky-header-offset;
	.main-header {
		position: fixed;
		top: -(@sticky-header-offset);
		transition: top .1s linear;	
		.logo {
			.make-default-column(3);
			padding: 0;
			text-align: center;
		}
		.nav {
			.make-default-column(9);
			padding: 0;
			ul {
				li {
					a {
						.media-xxs ({
							padding: 0 .25em;
							font-size: .5em;
						});
						.media-xs ({
							padding: 0 .5em;
							font-size: .7em;
						});
						.media-sm ({
							padding: 0 .5em;
							font-size: 1em;
						});
						.media-md({
							padding: 0 3px;
							font-size: 1em;
						});
						.media-lg({
							padding: 0 .75em;	
						});
					}
					ul.sub-menu {
						min-width: 250px;
					}
				}
			}
		}	
	}
	&.scroll-up {
		.main-header {
			top: 0;
		}
	}
}
.main-content {
	.make-row(0);
}
.hero {
	.make-default-column(12);
	background-color: @color-green-base;
	border-top: 1px solid @color-gray-light;
	border-bottom: 1px solid @color-gray-light;
	padding: 0;
	text-align: center;
	img {
		border-top: 1px solid #fff;
		border-bottom: 1px solid #fff;
		.img-responsive();
		display: inline-block;
	}
	&.hero-header {
		border-top: 0;
		img {
			border-top: 0;
		}
	}
	.caption {
		color: @color-gray;
		bottom: 5%; 
		font-size: 1em;
		font-style: italic;
		left: 0;
		line-height: 1.2em;
		position: absolute;
		right: 0; 
		text-align: right;
		.caption-text {
			padding: 10px;
		}
	}
}

.contact-section {
	.make-row(0);
	background-color: @color-gold-light;
	padding: 20px;
	h1 {
		color: @color-brown-dark;
	}
	.link-colors(@color-brown-dark);
	.intro-col {
		.make-default-column(3);
		h3 {
			margin: 0;
		}
	}
	.form-col {
		.make-default-column(6);
		input {
			.form-control();
			float: left;
			margin: 10px;
			width: 40%;
			margin: 0 5% 10px;
		}
		textarea {
			.form-control();
			height: 100px;
			margin: 0 5% 10px;
			width: 90%;
		}
		button {
			float: right;
			margin-right: 5%;
		}
	}
	.info-col {
		.make-default-column(3);
		address {
			ul {
				list-style: none;
				margin: 0;
				padding: 0;
				li {
					position: relative;
					padding-bottom: 5px;
				}
			}
		}
		.icon {
			.glyphicon();
			position: absolute;
			left: -25px;
			top: 1px;
		}
		.address .icon {
			.glyphicon-map-marker()
		}
		.telephone {
			.media-lg({
				.link-colors(@text-color);
				a {
					text-decoration: none;
					text-shadow: none;
					&:hover {
						text-decoration: none;
					}
				}
			});
			.icon {
				.glyphicon-earphone();
			} 
		}
		.fax .icon {
			.glyphicon-print();
		}
		.email .icon {
			.glyphicon-pencil();
		}
	}
} 

.main-footer {
	.make-row(0);
	background-color: @color-blue-base;
	padding-bottom: 25px;
	position: relative;
	.nav {
		.make-xs-column(12);
		.make-lg-column(9);
		font-size: 1.15em;
		font-weight: 600;
		margin-top: 10px;
		a {
			color: #fff;
			text-decoration: none;
			.text-shadow(darken(@color-blue-dark, 15%));
			&:hover {
				text-decoration: underline;
			}
		}
		ul {
			list-style: none;
			margin: 0;
			padding: 0;
			> .menu-item-has-children {
				float: left;
				margin: 0 10px 0 0;
				padding: 0;
				ul {
					font-size: .9em;
					font-weight: 400;
					margin: 5px 10px;
				}
			}
		}
		.social-media {
			.make-xs-column(12);
			display: block;
			margin-top: 25px;
			text-align: center;
			a {
				text-decoration: none;
			}
		}
	}
	.footer-branding {
		.make-xs-column(12);
		.make-lg-column(3);
		text-align: center;
		.media-lg({
			position: absolute;
			top: -100px;
			right: 0;
		});
		a {
			display: block;
		}
		img {
			height: auto;
			max-width: 300px;
			width: 100%;
		}
		p {
			color: @color-blue-dark;
			font-size: 1em;
			margin: 10px 0;
		}
	}
}

.read-more {
	padding-right: 15px;
	position: relative;
	.icon {
		.glyphicon();
		position: absolute;
		right: -5px;
		top: 2px;
	}
}

// Placeholder for React Component
#upcomingEvents {
	min-height: 250px;
	position: relative;
}

// Loading animation for React event component
.loading-event-list {
	background: url(../../img/loading.gif) center center no-repeat;
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
}
/*------------------------------------*\
    Splash page
\*------------------------------------*/

.splash-row-intro {
	.make-row(0);
	.supp {
		.make-default-column(3);
		.padded-col();
		.img-wrapper(@color-brown-dark);
		.caption {
			font-size: 1.3em;
			line-height: 1.2em;
			text-align: center;
			em {
				clear: both;
				display: block;
				font-style: normal;
			}
		}
	}
	.main {
		.make-default-column(6);
		.padded-col();
		h1 {
			color: @color-brown-dark;
			text-align: center;
		}
	}
	.events-col {
		.make-default-column(3);
		.padded-col();
		h1 {
			color: @color-blue-base;
			margin-left: 0;
		}
		.activity-list(@color-blue-base);

		.icon {
			.glyphicon-calendar();
		}
	}
}
.splash-row-centered {
	.main {
		.padded-col();
		.make-sm-column-offset(0);
		.make-sm-column(12);
		.make-md-column-offset(2);
		.make-md-column(8);
		text-align: center;
		h1 {
			color: @color-green-base;
		}
	}
}
.splash-row-modules {
	.main {
		.padded-col();
		.make-sm-column-offset(0);
		.make-sm-column(12);
		.make-md-column-offset(2);
		.make-md-column(8);
		text-align: center;
		h1 {
			color: @color-blue-base;
		}
	}
	.module {
		.make-default-column(3);
		.padded-col();
		width: 23%;
		margin-left: 1%;
		margin-right: 1%;
		text-align: center;
		padding: 0;
	}
}
.splash-row-posts {
	@color: @color-green-base;
	.activity-list(@color);
	header {
		.make-default-column(12);
		h1 {
			color: @color;
			margin: 0;
		}
	}
	.main {
		.make-default-column(9);
		.padded-col();
		.spotlight-post {
			padding-left: 60px;
			position: relative;
			h3 {
				margin-top: 0;
				a {
					text-decoration: none;
					&:hover {
						text-decoration: underline;
					}
				}
			}
		}
		p {
			margin-left: 10px;
		}
		.link-colors(@color);	
		.img-wrapper(@color);
		img {
			border: 1px solid @color;
			border-color: @color;
			float: right;
			margin-left: 20px;
		}
		.read-more {
			float: right;
			.icon {
				.glyphicon-chevron-right();
			}
		}
	}
	.posts-archive-col {
		.make-default-column(3);
		.padded-col();
		.icon {
			.glyphicon-list-alt();
		}
	}
}

.module {
	.mod-styled(@color) {
		position: relative;
		background-color: @color;
		.img-wrapper(@color);
		img {
			border: 1px solid @color;
			border-top-width: 10px;
			border-color: @color;
		}
		.caption {
			bottom: 0;
			font-size: 2em;
			height: 50px;
			left: 0;
			line-height: 50px;
			padding: 0;
			position: absolute;
			right: 0;
			text-align: center;
		}
		&:hover {
			.caption {
				height: 55px;
				line-height: 55px;
				transition: all .25s;
			}
		}
	}
	&.module-1 {
		.mod-styled(@color-blue-base);
	}
	&.module-2 {
		.mod-styled(@color-brown-base);
	}
	&.module-3 {	
		.mod-styled(@color-green-base);
	}
	&.module-4 {
		.mod-styled(@color-gold-dark);
	}
}

/*------------------------------------*\
    Posts
\*------------------------------------*/
body.single-post {
	.post-header {
		text-align: center;
		padding: 50px;
		.post-title {
			color: @color-green-base;
			margin-bottom: 0;
		}
		.post-author {
			.author-intro {
				color: @color-gray;
				font-style: italic;
				margin-right: 3px;
			}
			.author-name {
				font-weight: 700;
			}
		}
	}

	.caption-text {
		background-color: @color-brown-base;
		color: #fff;
	}

	.post-details {
		.make-default-column(2);
		.padded-col();
		.activity-date(@color-green-base, 100px);
		.activity-date {
			right: 0;
			left: auto;
		}
	}

	.post-content {
		.make-default-column(7);
		.padded-col();
	}

	.post-sidebar {
		.make-default-column(3);
		.padded-col();
	} 
}

/*------------------------------------*\
    Standard & Single Page
\*------------------------------------*/

// Search, Archive, Category
.page-content {
	.make-default-column(6);
	.make-md-column-offset(3);
	.padded-col();
	.entry-list-item {
		position: relative;
		min-height: 120px;
	}
	.type-page {
		@color: @color-brown-base;
		a {
			color: @color;
		}
		img {
			border: 1px solid @color;
		}
		.activity-date {
			display: none;
		}
		.author-info {
			display: none;
		}
	}
	.type-post {
		@color: @color-green-base;
		a {
			color: @color;
		}
		img {
			border: 1px solid @color;
		}
		.activity-list(@color);
		.author-info {
			clear: both;
			display: block;
			margin-top: -10px;	
			margin-left: 10px;		
			.author-intro {
				color: @color-gray;
				font-style: italic;
				margin-right: 3px;
			}
			.author-name {
				font-weight: 700;
			}
		}
	}
	.entry-details {
		position: absolute;
		left: -175px;
		width: 150px; // Thumbnail size
		top: 20px;		
		.activity-date {
			right: -10px;
			left: auto;
			top: -10px;
		}
	}
}
.page-sidebar {
	.make-default-column(3);
	.padded-col();		
}

body.page {
	.page-content {
		.make-default-column(8);
		.make-md-column-offset(1);
		.padded-col();
	}
	.page-sidebar {
		.make-default-column(3);
		.padded-col();		
	}
}

body.page-template-page-full {
	.page-content {
		.make-default-column(12);
		.make-md-column-offset(0);
		.padded-col();
	}
}

.event-calendar {
	body {
		background-color: transparent;
	}
}

/*------------------------------------*\
    Sidebars
\*------------------------------------*/
.widget_search,
.widget_hw_cal,
.widget_hw_posts {
	.clearfix();
	display: block;
	clear: both;
	margin-bottom: 20px;
}
.widget_hw_cal {
	.activity-list(@color-blue-base);
	.icon {
		.glyphicon-calendar();
	}
}

.widget_hw_posts {
	.activity-list(@color-green-base);
	.icon {
		.glyphicon-list-alt();
	}
}



/*------------------------------------*\
    MISC
\*------------------------------------*/



::selection {
	background:#04A4CC;
	color:#FFF;
	text-shadow:none;
}
::-webkit-selection {
	background:#04A4CC;
	color:#FFF;
	text-shadow:none;
}
::-moz-selection {
	background:#04A4CC;
	color:#FFF;
	text-shadow:none;
}

/*------------------------------------*\
    WORDPRESS CORE
\*------------------------------------*/

.alignnone {
	margin:5px 20px 20px 0;
}
.aligncenter,
div.aligncenter {
	display:block;
	margin:5px auto 5px auto;
}
.alignright {
	float:right;
	margin:5px 0 20px 20px;
}
.alignleft {
	float:left;
	margin:5px 20px 20px 0;
}
a img.alignright {
	float:right;
	margin:5px 0 20px 20px;
}
a img.alignnone {
	margin:5px 20px 20px 0;
}
a img.alignleft {
	float:left;
	margin:5px 20px 20px 0;
}
a img.aligncenter {
	display:block;
	margin-left:auto;
	margin-right:auto;
}
.wp-caption {
	background:#FFF;
	border:1px solid #F0F0F0;
	max-width:96%;
	padding:5px 3px 10px;
	text-align:center;
}
.wp-caption.alignnone {
	margin:5px 20px 20px 0;
}
.wp-caption.alignleft {
	margin:5px 20px 20px 0;
}
.wp-caption.alignright {
	margin:5px 0 20px 20px;
}
.wp-caption img {
	border:0 none;
	height:auto;
	margin:0;
	max-width:98.5%;
	padding:0;
	width:auto;
}
.wp-caption .wp-caption-text,
.gallery-caption {
	font-size:11px;
	line-height:17px;
	margin:0;
	padding:0 4px 5px;
}
.sticky {

}
.bypostauthor {

}

/*------------------------------------*\
    PRINT
\*------------------------------------*/

@media print {
	* {
		background:transparent !important;
		color:#000 !important;
		box-shadow:none !important;
		text-shadow:none !important;
	}
	a,
	a:visited {
		text-decoration:underline;
	}
	a[href]:after {
		content:" (" attr(href) ")";
	}
	abbr[title]:after {
		content:" (" attr(title) ")";
	}
	.ir a:after,
	a[href^="javascript:"]:after,
	a[href^="#"]:after {
		content:"";
	}
	pre,blockquote {
		border:1px solid #999;
		page-break-inside:avoid;
	}
	thead {
		display:table-header-group;
	}
	tr,img {
		page-break-inside:avoid;
	}
	img {
		max-width:100% !important;
	}
	@page {
		margin:0.5cm;
	}
	p,
	h2,
	h3 {
		orphans:3;
		widows:3;
	}
	h2,
	h3 {
		page-break-after:avoid;
	}
}